<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript">
	  // Check for the various File API support.
	  function onInitFs(fs) {
	  		console.log('Opened file system:'+fs.name);
	  	}

	  function errorHandler(e) {
	  	var msg ='';
	  	switch(e.code) {
	  		case FileError.QUOTA_EXCEEDED_ERR:
	  		  msg = 'QUOTA_EXCEEDED_ERR';
	  		  break;
	  		case FileError.NOT_FOUND_ERR:
	  		  msg = 'NOT_FOUND_ERR';
	  		  break;
	  		case FileError.SECURITY_ERR:
	  		  msg = 'SECURITY_ERR';
	  		  break;
	  		case FileError.INVALID_MODIFICATION_ERR:
	  		  msg = 'INVALID_MODIFICATION_ERR';
	  		  break;
	  		case FileError.INVALID_STATE_ERR:
	  		  msg = 'INVALID_STATE_ERR';
	  		  break;
	  		default:
	  		  msg = 'Unknown Error';
	  		  break;
	  	};
	  	console.log('Error:'+msg);
	  }

	  function onSuccess(fileEntry) {
	  	console.log(fileEntry.name);
	  }

	  function onErrorCallback(e){
	  	console.log("Error:"+e);
	  }

	  if (window.File && window.FileReader && window.FileList && window.Blob) {

	  	var requestedBytes = 1024*1024*10;
	  	window.requestFileSystem  = window.requestFileSystem || window.webkitRequestFileSystem;
	  	navigator.webkitPersistentStorage.requestQuota(requestedBytes,function(grantedBytes){
	  		window.requestFileSystem(PERSISTENT, grantedBytes, onInitFs, errorHandler);
	  	},function(e){
	  		console.log("Error",e);
	  	});

	  	window.requestFileSystem(window.TEMPORARY,500*1024*1024,/*500m*/onInitFs,errorHandler);
	   

	  	window.resolveLocalFileSystemURL = window.resolveLocalFileSystemURL ||
                                   window.webkitResolveLocalFileSystemURL;

            var url ='filesystem:images/kissing_closed_eyes.png';
                  window.resolveLocalFileSystemURL(url, function(fileEntry) {
                  	alert("ok");
            },function(e){
            	console.log(e);
            });

	  	//window.requestFileSystem  = window.requestFileSystem || window.webkitRequestFileSystem;
	  	// window.directoryEntry = window.directoryEntry || window.webkitDirectoryEntry;
	  	// window.requestFileSystem(window.TEMPORARY, 1024*1024, function(fs) {
    //       fs.root.getDirectory('MyPictures', {create: true}, function(dirEntry) {
    //          alert("ok");
    //      }, errorHandler);
    //      }, errorHandler);

	  
	  } else{
	  	alert("The file APIs are not fully supported in this browser.");
	  }

	  
	</script>
</head>
<body>
   <input type="file" id="fileinput" multiple />
</body>

</html>